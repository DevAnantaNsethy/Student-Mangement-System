<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roland Institute of Technology</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <!-- HEADER / NAV -->
    <header class="header">
      <div class="logo-section">
        <img src="./img/rit logo.png" alt="RIT Logo" />
        <div class="logo-text">
          <h1>Roland Institute Of Technology</h1>
          <p>Est. 2002 | ISO 9001:2015 Certified</p>
        </div>
      </div>
      <nav class="nav-links">
        <a href="#about">About</a>
        <a href="#departments">Departments</a>
        <a href="#courses">Courses</a>
        <a href="#facilities">Facilities</a>
        <a href="#contact">Contact</a>
      </nav>
      <div class="header-buttons">
        <a href="./User_login.html" class="btn-login">Login</a>
        <a href="./stu_signup.html" class="btn-register">Register</a>
      </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero" id="home">
      <div class="hero-text">
        <h1>Welcome to Roland Institute of Technology</h1>
        <p>
          Empowering the future of engineering through innovation, excellence,
          and integrity. Join us to unlock your potential and shape a brighter
          world.
        </p>
        <a href="#about" class="btn-hero">Explore More</a>
      </div>
      <div class="hero-image">
        <img src="./img/clg img.png" alt="College Building" />
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="section" id="about">
      <h2>About RIT</h2>
      <div class="cards">
        <!-- Card 1 -->
        <label class="card">
          <input type="checkbox" />
          <h3>Our Mission</h3>
          <p>
            To provide high-quality technical education, foster innovation, and
            develop future leaders in engineering and technology.
          </p>
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Our Mission</h3>
              <p>
                At Roland Institute of Technology, we aim to nurture students'
                technical expertise and innovative thinking to prepare them for
                a competitive global environment.
              </p>
            </div>
          </div>
        </label>

        <!-- Card 2 -->
        <label class="card">
          <input type="checkbox" />
          <h3>Principal's Message</h3>
          <p>
            We nurture talent and creativity by providing a dynamic learning
            environment that connects theory with practice. - Prof. Gunamani
            Jena
          </p>
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Principal's Message</h3>
              <p>
                We focus on holistic development, blending academics, research,
                and practical exposure to produce industry-ready graduates with
                leadership qualities.
              </p>
            </div>
          </div>
        </label>

        <!-- Card 3 -->
        <label class="card">
          <input type="checkbox" />
          <h3>Our Vision</h3>
          <p>
            To be a leading engineering institution, known for excellence,
            innovation, and societal contribution.
          </p>
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Our Vision</h3>
              <p>
                We aspire to lead in technological education, research, and
                innovation, contributing meaningfully to society and the
                engineering community.
              </p>
            </div>
          </div>
        </label>
      </div>
    </section>

    <!-- DEPARTMENTS SECTION -->
    <section class="section" id="departments">
      <h2>Departments</h2>
      <div class="cards">
        <label class="card">
          <input type="checkbox" />
          Computer Science & Engineering
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Computer Science & Engineering</h3>
              <p>
                Offering courses in AI, ML, Cybersecurity, and Software
                Engineering with advanced labs and research opportunities.
              </p>
            </div>
          </div>
        </label>

        <label class="card">
          <input type="checkbox" />
          Electronics & Communication
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Electronics & Communication</h3>
              <p>
                Focuses on embedded systems, VLSI design, and communication
                technologies with hands-on lab experience.
              </p>
            </div>
          </div>
        </label>

        <label class="card">
          <input type="checkbox" />
          Mechanical Engineering
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Mechanical Engineering</h3>
              <p>
                Equipped with workshops and labs for CAD, robotics, and
                manufacturing processes for practical learning.
              </p>
            </div>
          </div>
        </label>

        <label class="card">
          <input type="checkbox" />
          Civil Engineering
          <div class="card-popup">
            <div class="card-popup-content">
              <span
                class="close"
                onclick="this.parentElement.parentElement.previousElementSibling.checked=false;"
                >√ó</span
              >
              <h3>Civil Engineering</h3>
              <p>
                Emphasizes structural design, construction management, and
                sustainable development projects.
              </p>
            </div>
          </div>
        </label>
      </div>
    </section>

    <!-- INFO TICKER -->
    <div class="smt-ticker">
      <div class="smt-ticker__wrap">
        <div class="smt-ticker__track">
          <span class="smt-item">üöÄ Industry-Aligned Curriculum</span>
          <span class="smt-item">üèÜ 100% Placement Support</span>
          <span class="smt-item">üí° Innovative Research Projects</span>
          <span class="smt-item">üìö Expert Faculty & Mentorship</span>
          <span class="smt-item">üåé Global Collaboration Opportunities</span>
          <span class="smt-item">üéØ Career-Focused Training Programs</span>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
      <h3>Roland Institute of Technology</h3>
      <p>&copy; 2025 All Rights Reserved.</p>
      <div class="social-links">
        <a href="#">Facebook</a>
        <a href="#">Twitter</a>
        <a href="#">LinkedIn</a>
      </div>
    </footer>

    <script>
      const pendingUserSchema = new mongoose.Schema({
        email: { type: String, unique: true },
        otp: String,
        otpExpires: Date,
      });
      const PendingUser = mongoose.model("PendingUser", pendingUserSchema);

      app.post("/api/send-otp", async (req, res) => {
        const { email } = req.body;
        if (!email)
          return res
            .status(400)
            .json({ success: false, message: "Email required" });

        const otp = Math.floor(100000 + Math.random() * 900000).toString();
        const otpExpires = new Date(Date.now() + 10 * 60 * 1000);

        await PendingUser.findOneAndUpdate(
          { email },
          { otp, otpExpires },
          { upsert: true, new: true }
        );

        // ...send OTP email as before...
        res.json({ success: true, message: "OTP sent" });
      });

      app.post("/api/register", async (req, res) => {
        const { name, email, password } = req.body;
        if (!name || !email || !password) {
          return res
            .status(400)
            .json({ success: false, message: "All fields required" });
        }
        // Check if OTP was verified
        const pending = await PendingUser.findOne({ email });
        if (!pending) {
          return res
            .status(400)
            .json({
              success: false,
              message: "Please verify your email first.",
            });
        }
        // Check if user already exists
        const existing = await User.findOne({ email });
        if (existing) {
          return res
            .status(400)
            .json({ success: false, message: "Email already registered" });
        }
        await User.create({ name, email, password });
        // Remove from pending users
        await PendingUser.deleteOne({ email });
        res.json({ success: true, message: "Registration successful" });
      });
    </script>
  </body>
</html>
