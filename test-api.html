<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Test</title>
  </head>
  <body>
    <h1>Testing API Connection</h1>
    <button onclick="testHealth()">Test Health Endpoint</button>
    <button onclick="testSendOTP()">Test Send OTP</button>
    <div id="result"></div>

    <script>
      const API_BASE = "http://localhost:3001/api";

      async function testHealth() {
        try {
          const response = await fetch(`${API_BASE}/health`);
          const data = await response.json();
          document.getElementById("result").innerHTML = `
                    <h3>Health Check Result:</h3>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                `;
        } catch (error) {
          document.getElementById("result").innerHTML = `
                    <h3>Health Check Error:</h3>
                    <p style="color: red;">${error.message}</p>
                `;
        }
      }

      async function testSendOTP() {
        try {
          const response = await fetch(`${API_BASE}/send-otp`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              email: "test@example.com",
            }),
          });
          const data = await response.json();
          document.getElementById("result").innerHTML = `
                    <h3>Send OTP Result:</h3>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                `;
        } catch (error) {
          document.getElementById("result").innerHTML = `
                    <h3>Send OTP Error:</h3>
                    <p style="color: red;">${error.message}</p>
                `;
        }
      }
    </script>
  </body>
</html>
